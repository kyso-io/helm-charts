{
  "name": "{{ .ws_name }}",
  "license": "UNLICENSED",
  "release": {
    "plugins": [
      {{- if .ws_plugin }}
      "{{ .ws_plugin }}",
      {{- end }}
      [
        "@semantic-release/commit-analyzer",
        {
          "preset": "conventionalcommits",
          "releaseRules": [
            {
              "breaking": true,
              "release": "major"
            },
            {
              "revert": true,
              "release": "patch"
            },
            {
              "type": "feat",
              "release": "minor"
            },
            {
              "type": "fix",
              "release": "patch"
            },
            {
              "type": "perf",
              "release": "patch"
            }
          ]
        }
      ],
      [
        "@google/semantic-release-replace-plugin",
        {
          "replacements": [
            {
              "files": [
                "{{ .ws_path }}/Chart.yaml"
              ],
              "from": "^version: .*$",
              "to": "version: ${nextRelease.version}"
            }
          ]
        }
      ],
      "@semantic-release/release-notes-generator",
      [
        "@semantic-release/changelog",
        {
          "changelogFile": "CHANGELOG.md",
          "changelogTitle": "# Changelog"
        }
      ],
      [
        "@semantic-release/git",
        {
          "assets": [ "CHANGELOG.md", "Chart.yml" ],
          "message": "ci(release): {{ .ws_name }}@${nextRelease.version}\n\n${nextRelease.notes}"
        }
      ],
      [
        "@semantic-release/gitlab",
        {
          "gitlabUrl": "https://gitlab.kyso.io/"
        }
      ]
    ],
    "branches": [
      "main"
    ]
  }
}
